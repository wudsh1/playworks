const _0x148520=_0x5b8a;function _0x5b8a(_0x518390,_0x5b4c5e){const _0x5dfffc=_0x5dff();return _0x5b8a=function(_0x5b8abd,_0xe49eb4){_0x5b8abd=_0x5b8abd-0x12e;let _0x395ac9=_0x5dfffc[_0x5b8abd];return _0x395ac9;},_0x5b8a(_0x518390,_0x5b4c5e);}(function(_0x2e31de,_0x4d7607){const _0x2ba299=_0x5b8a,_0x596bf5=_0x2e31de();while(!![]){try{const _0x2a5923=parseInt(_0x2ba299(0x150))/0x1*(-parseInt(_0x2ba299(0x15c))/0x2)+parseInt(_0x2ba299(0x139))/0x3+parseInt(_0x2ba299(0x131))/0x4+parseInt(_0x2ba299(0x15f))/0x5+-parseInt(_0x2ba299(0x135))/0x6*(-parseInt(_0x2ba299(0x136))/0x7)+parseInt(_0x2ba299(0x159))/0x8+-parseInt(_0x2ba299(0x144))/0x9;if(_0x2a5923===_0x4d7607)break;else _0x596bf5['push'](_0x596bf5['shift']());}catch(_0x4345c3){_0x596bf5['push'](_0x596bf5['shift']());}}}(_0x5dff,0x403b0));const Platform=require('../platform'),SCRIPTS_MANIFEST=[{'src':'scripts.js','priority':0x0}];class PlaygroundPlatform{constructor(_0x5791a6){const _0x1f5d49=_0x5b8a;this[_0x1f5d49(0x142)]=_0x5791a6,this[_0x1f5d49(0x13f)]=[];}async[_0x148520(0x155)](){const _0x330f7c=_0x148520;await this['api'][_0x330f7c(0x133)]();const _0x1c9f5c=await this[_0x330f7c(0x142)][_0x330f7c(0x145)]();await this[_0x330f7c(0x142)][_0x330f7c(0x15d)](_0x1c9f5c),this[_0x330f7c(0x13f)][_0x330f7c(0x134)](await this[_0x330f7c(0x142)][_0x330f7c(0x15e)](_0x1c9f5c,![],![],!![],_0x330f7c(0x132))),await this['api']['storeHTML'](await this[_0x330f7c(0x12e)]()),await this[_0x330f7c(0x140)](),await this[_0x330f7c(0x160)](),await this['createBuildConfig'](),await this[_0x330f7c(0x157)](),await this[_0x330f7c(0x146)](),await this[_0x330f7c(0x142)][_0x330f7c(0x164)](global[_0x330f7c(0x14e)][_0x330f7c(0x143)]+_0x330f7c(0x14a));}async[_0x148520(0x162)](){return!![];}async[_0x148520(0x15b)](){const _0x2ece57=_0x148520,_0x2bbbc7=[path[_0x2ece57(0x137)](__dirname,'..','resources','js','pi.js'),path[_0x2ece57(0x137)](__dirname,'..',_0x2ece57(0x163),_0x2ece57(0x156),_0x2ece57(0x13b)),path[_0x2ece57(0x137)](__dirname,'..',_0x2ece57(0x163),'js',_0x2ece57(0x13a)),path[_0x2ece57(0x137)](__dirname,'..',_0x2ece57(0x163),'js',_0x2ece57(0x154))],_0x733093=[path['resolve'](__dirname,'thirdparty.js'),path['resolve'](__dirname,_0x2ece57(0x147))];return{'pre':_0x2bbbc7,'post':_0x733093};}async['copyResources'](){const _0x3dccab=_0x148520;await fs[_0x3dccab(0x151)](path[_0x3dccab(0x130)](this['api'][_0x3dccab(0x165)],_0x3dccab(0x163)),path[_0x3dccab(0x130)](this['api'][_0x3dccab(0x138)],_0x3dccab(0x163)));}async[_0x148520(0x140)](){const _0x4ef9cd=_0x148520;await fs[_0x4ef9cd(0x151)](path[_0x4ef9cd(0x130)](this[_0x4ef9cd(0x142)]['sourceFolder'],'js',_0x4ef9cd(0x153)),path[_0x4ef9cd(0x130)](this['api'][_0x4ef9cd(0x138)],'playground.json'));}async[_0x148520(0x146)](){const _0x17cba9=_0x148520;await fs[_0x17cba9(0x151)](path['join'](this[_0x17cba9(0x142)][_0x17cba9(0x165)],'js',_0x17cba9(0x148)),path[_0x17cba9(0x130)](this[_0x17cba9(0x142)][_0x17cba9(0x138)],'playable_health_check.json'));}[_0x148520(0x13c)](){const _0x41f829=_0x148520,_0x5a9509={...global[_0x41f829(0x14e)]};return delete _0x5a9509[_0x41f829(0x149)][_0x41f829(0x13f)][_0x41f829(0x141)],delete _0x5a9509['unity'][_0x41f829(0x13f)]['msbuildWin64'],delete _0x5a9509['unity']['scripts']['externalSources'],delete _0x5a9509[_0x41f829(0x149)][_0x41f829(0x14f)],_0x5a9509;}async[_0x148520(0x158)](){const _0x46de7d=_0x148520,_0x14e210=this[_0x46de7d(0x13c)](),_0x46e54a=path[_0x46de7d(0x130)](this[_0x46de7d(0x142)]['targetFolder'],_0x46de7d(0x152));await fs[_0x46de7d(0x14d)](_0x46e54a,JSON['stringify'](_0x14e210));}async['createScriptsManifest'](){const _0x4a57f9=_0x148520,_0x5b4aee=path[_0x4a57f9(0x130)](this[_0x4a57f9(0x142)][_0x4a57f9(0x138)],_0x4a57f9(0x132),'manifest.json');await fs[_0x4a57f9(0x14d)](_0x5b4aee,JSON[_0x4a57f9(0x15a)](SCRIPTS_MANIFEST));}async['buildTemplate'](){const _0x53061d=_0x148520,_0x2c656a=path[_0x53061d(0x137)](__dirname,'index.pug'),_0x2648ba=await this[_0x53061d(0x14b)]();return _0x2648ba[_0x53061d(0x14c)]['logo']='',this[_0x53061d(0x142)]['generateHTML'](_0x2c656a,_0x2648ba);}async[_0x148520(0x14b)](_0x5320fd=![]){const _0x51f5f6=_0x148520,_0x1b9eec=await this[_0x51f5f6(0x142)][_0x51f5f6(0x14b)](this,_0x5320fd);return _0x1b9eec[_0x51f5f6(0x14e)]={'json':'external','image':_0x51f5f6(0x13e),'video':'external','blob':_0x51f5f6(0x13e),'sound':_0x51f5f6(0x13e)},_0x1b9eec;}}PlaygroundPlatform[_0x148520(0x13d)][_0x148520(0x12f)]=Platform[_0x148520(0x13d)]['inject'],module[_0x148520(0x161)]=PlaygroundPlatform;function _0x5dff(){const _0xa06d5e=['copyHealthCheckJson','runtime.js','playable_health_check.json','unity','_build.zip','generatePackageConfig','preloader','writeFile','config','applicationPath','54197qwBQjT','copy','luna.json','playground.json','touch-emulator.js','bundle','pug','copyResources','createBuildConfig','2770496iSYdfe','stringify','getInjectionChunks','2JmGrRZ','createResourcesCache','combineScripts','1760000fEcgdU','createScriptsManifest','exports','storeMeta','resources','generateZipFile','sourceFolder','buildTemplate','inject','join','1190656UxZlvZ','engine','bundleAssets','push','897132EEuQsn','14lTTptQ','resolve','targetFolder','622137bfaWzK','thirdparty.js','pi.pug','getAndHideAbsolutePathInLunaJson','prototype','external','scripts','copyPlaygroundManifest','msbuildMac64','api','creativeName','10666026cYiQfM','getScriptsRelations'];_0x5dff=function(){return _0xa06d5e;};return _0x5dff();}